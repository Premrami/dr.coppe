{"version":3,"file":"cart-drawer.js","sources":["../theming/js/cart-drawer.js"],"sourcesContent":["class n extends HTMLElement{constructor(){super(),this.addEventListener(\"keyup\",e=>e.code===\"Escape\"&&this.close()),this.querySelector(\"#CartDrawer-Overlay\").addEventListener(\"click\",this.close.bind(this)),this.setHeaderCartIconAccessibility()}setHeaderCartIconAccessibility(){const e=document.querySelector(\"#cart-icon-bubble\");e&&(e.setAttribute(\"role\",\"button\"),e.setAttribute(\"aria-haspopup\",\"dialog\"),e.addEventListener(\"click\",t=>{t.preventDefault(),this.open(e)}),e.addEventListener(\"keydown\",t=>{t.code.toUpperCase()===\"SPACE\"&&(t.preventDefault(),this.open(e))}))}open(e){e&&this.setActiveElement(e);const t=this.querySelector('[id^=\"Details-\"] summary');t&&!t.hasAttribute(\"role\")&&this.setSummaryAccessibility(t),setTimeout(()=>{this.classList.add(\"animate\",\"active\")}),this.addEventListener(\"transitionend\",()=>{const r=this.classList.contains(\"is-empty\")?this.querySelector(\".drawer__inner-empty\"):document.getElementById(\"CartDrawer\"),i=this.querySelector(\".drawer__inner\")||this.querySelector(\".drawer__close\");trapFocus(r,i)},{once:!0}),document.body.classList.add(\"overflow-hidden\")}close(){this.classList.remove(\"active\"),removeTrapFocus(this.activeElement),document.body.classList.remove(\"overflow-hidden\")}setSummaryAccessibility(e){e.setAttribute(\"role\",\"button\"),e.setAttribute(\"aria-expanded\",\"false\"),e.nextElementSibling.getAttribute(\"id\")&&e.setAttribute(\"aria-controls\",e.nextElementSibling.id),e.addEventListener(\"click\",t=>{t.currentTarget.setAttribute(\"aria-expanded\",!t.currentTarget.closest(\"details\").hasAttribute(\"open\"))}),e.parentElement.addEventListener(\"keyup\",onKeyUpEscape)}renderContents(e){this.querySelector(\".drawer__inner\").classList.contains(\"is-empty\")&&this.querySelector(\".drawer__inner\").classList.remove(\"is-empty\"),this.productId=e.id,this.getSectionsToRender().forEach(t=>{const r=t.selector?document.querySelector(t.selector):document.getElementById(t.id);r&&(r.innerHTML=this.getSectionInnerHTML(e.sections[t.id],t.selector))}),setTimeout(()=>{this.querySelector(\"#CartDrawer-Overlay\").addEventListener(\"click\",this.close.bind(this)),this.open()})}getSectionInnerHTML(e,t=\".shopify-section\"){return new DOMParser().parseFromString(e,\"text/html\").querySelector(t).innerHTML}getSectionsToRender(){return[{id:\"cart-drawer\",selector:\"#CartDrawer\"},{id:\"cart-icon-bubble\"}]}getSectionDOM(e,t=\".shopify-section\"){return new DOMParser().parseFromString(e,\"text/html\").querySelector(t)}setActiveElement(e){this.activeElement=e}}customElements.define(\"cart-drawer\",n);class c extends CartItems{getSectionsToRender(){return[{id:\"CartDrawer\",section:\"cart-drawer\",selector:\".drawer__inner\"},{id:\"cart-icon-bubble\",section:\"cart-icon-bubble\",selector:\".shopify-section\"}]}}customElements.define(\"cart-drawer-items\",c);\n"],"names":[],"mappings":"AAAA,MAAM,UAAU,WAAW,CAAC,aAAa,CAAC,MAAK,EAAG,KAAK,iBAAiB,QAAQ,GAAG,EAAE,OAAO,UAAU,KAAK,MAAK,CAAE,EAAE,KAAK,cAAc,qBAAqB,EAAE,iBAAiB,QAAQ,KAAK,MAAM,KAAK,IAAI,CAAC,EAAE,KAAK,+BAA8B,CAAE,CAAC,gCAAgC,CAAC,MAAM,EAAE,SAAS,cAAc,mBAAmB,EAAE,IAAI,EAAE,aAAa,OAAO,QAAQ,EAAE,EAAE,aAAa,gBAAgB,QAAQ,EAAE,EAAE,iBAAiB,QAAQ,GAAG,CAAC,EAAE,iBAAiB,KAAK,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,iBAAiB,UAAU,GAAG,CAAC,EAAE,KAAK,YAAW,IAAK,UAAU,EAAE,iBAAiB,KAAK,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,KAAK,iBAAiB,CAAC,EAAE,MAAM,EAAE,KAAK,cAAc,0BAA0B,EAAE,GAAG,CAAC,EAAE,aAAa,MAAM,GAAG,KAAK,wBAAwB,CAAC,EAAE,WAAW,IAAI,CAAC,KAAK,UAAU,IAAI,UAAU,QAAQ,CAAC,CAAC,EAAE,KAAK,iBAAiB,gBAAgB,IAAI,CAAC,MAAM,EAAE,KAAK,UAAU,SAAS,UAAU,EAAE,KAAK,cAAc,sBAAsB,EAAE,SAAS,eAAe,YAAY,EAAE,EAAE,KAAK,cAAc,gBAAgB,GAAG,KAAK,cAAc,gBAAgB,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,EAAE,SAAS,KAAK,UAAU,IAAI,iBAAiB,CAAC,CAAC,OAAO,CAAC,KAAK,UAAU,OAAO,QAAQ,EAAE,gBAAgB,KAAK,aAAa,EAAE,SAAS,KAAK,UAAU,OAAO,iBAAiB,CAAC,CAAC,wBAAwB,EAAE,CAAC,EAAE,aAAa,OAAO,QAAQ,EAAE,EAAE,aAAa,gBAAgB,OAAO,EAAE,EAAE,mBAAmB,aAAa,IAAI,GAAG,EAAE,aAAa,gBAAgB,EAAE,mBAAmB,EAAE,EAAE,EAAE,iBAAiB,QAAQ,GAAG,CAAC,EAAE,cAAc,aAAa,gBAAgB,CAAC,EAAE,cAAc,QAAQ,SAAS,EAAE,aAAa,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,cAAc,iBAAiB,QAAQ,aAAa,CAAC,CAAC,eAAe,EAAE,CAAC,KAAK,cAAc,gBAAgB,EAAE,UAAU,SAAS,UAAU,GAAG,KAAK,cAAc,gBAAgB,EAAE,UAAU,OAAO,UAAU,EAAE,KAAK,UAAU,EAAE,GAAG,KAAK,oBAAmB,EAAG,QAAQ,GAAG,CAAC,MAAM,EAAE,EAAE,SAAS,SAAS,cAAc,EAAE,QAAQ,EAAE,SAAS,eAAe,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,KAAK,oBAAoB,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE,WAAW,IAAI,CAAC,KAAK,cAAc,qBAAqB,EAAE,iBAAiB,QAAQ,KAAK,MAAM,KAAK,IAAI,CAAC,EAAE,KAAK,KAAI,CAAE,CAAC,CAAC,CAAC,oBAAoB,EAAE,EAAE,mBAAmB,CAAC,OAAO,IAAI,UAAS,EAAG,gBAAgB,EAAE,WAAW,EAAE,cAAc,CAAC,EAAE,SAAS,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,cAAc,SAAS,aAAa,EAAE,CAAC,GAAG,kBAAkB,CAAC,CAAC,CAAC,cAAc,EAAE,EAAE,mBAAmB,CAAC,OAAO,IAAI,YAAY,gBAAgB,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC,KAAK,cAAc,CAAC,CAAC,CAAC,eAAe,OAAO,cAAc,CAAC,EAAE,MAAM,UAAU,SAAS,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,aAAa,QAAQ,cAAc,SAAS,gBAAgB,EAAE,CAAC,GAAG,mBAAmB,QAAQ,mBAAmB,SAAS,kBAAkB,CAAC,CAAC,CAAC,CAAC,eAAe,OAAO,oBAAoB,CAAC"}