{"version":3,"file":"cart-notification.js","sources":["../theming/js/cart-notification.js"],"sourcesContent":["class n extends HTMLElement{constructor(){super(),this.notification=document.getElementById(\"cart-notification\"),this.header=document.querySelector(\"sticky-header\"),this.onBodyClick=this.handleBodyClick.bind(this),this.notification.addEventListener(\"keyup\",t=>t.code===\"Escape\"&&this.close()),this.querySelectorAll('button[type=\"button\"]').forEach(t=>t.addEventListener(\"click\",this.close.bind(this)))}open(){this.notification.classList.add(\"animate\",\"active\"),this.notification.addEventListener(\"transitionend\",()=>{this.notification.focus(),trapFocus(this.notification)},{once:!0}),document.body.addEventListener(\"click\",this.onBodyClick)}close(){this.notification.classList.remove(\"active\"),document.body.removeEventListener(\"click\",this.onBodyClick),removeTrapFocus(this.activeElement)}renderContents(t){this.cartItemKey=t.key,this.getSectionsToRender().forEach(e=>{document.getElementById(e.id).innerHTML=this.getSectionInnerHTML(t.sections[e.id],e.selector)}),this.header&&this.header.reveal(),this.open()}getSectionsToRender(){return[{id:\"cart-notification-product\",selector:`[id=\"cart-notification-product-${this.cartItemKey}\"]`},{id:\"cart-notification-button\"},{id:\"cart-icon-bubble\"}]}getSectionInnerHTML(t,e=\".shopify-section\"){return new DOMParser().parseFromString(t,\"text/html\").querySelector(e).innerHTML}handleBodyClick(t){const e=t.target;if(e!==this.notification&&!e.closest(\"cart-notification\")){const i=e.closest(\"details-disclosure, header-menu\");this.activeElement=i?i.querySelector(\"summary\"):null,this.close()}}setActiveElement(t){this.activeElement=t}}customElements.define(\"cart-notification\",n);\n"],"names":[],"mappings":"AAAA,MAAM,UAAU,WAAW,CAAC,aAAa,CAAC,MAAK,EAAG,KAAK,aAAa,SAAS,eAAe,mBAAmB,EAAE,KAAK,OAAO,SAAS,cAAc,eAAe,EAAE,KAAK,YAAY,KAAK,gBAAgB,KAAK,IAAI,EAAE,KAAK,aAAa,iBAAiB,QAAQ,GAAG,EAAE,OAAO,UAAU,KAAK,MAAK,CAAE,EAAE,KAAK,iBAAiB,uBAAuB,EAAE,QAAQ,GAAG,EAAE,iBAAiB,QAAQ,KAAK,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,aAAa,UAAU,IAAI,UAAU,QAAQ,EAAE,KAAK,aAAa,iBAAiB,gBAAgB,IAAI,CAAC,KAAK,aAAa,MAAK,EAAG,UAAU,KAAK,YAAY,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,EAAE,SAAS,KAAK,iBAAiB,QAAQ,KAAK,WAAW,CAAC,CAAC,OAAO,CAAC,KAAK,aAAa,UAAU,OAAO,QAAQ,EAAE,SAAS,KAAK,oBAAoB,QAAQ,KAAK,WAAW,EAAE,gBAAgB,KAAK,aAAa,CAAC,CAAC,eAAe,EAAE,CAAC,KAAK,YAAY,EAAE,IAAI,KAAK,oBAAmB,EAAG,QAAQ,GAAG,CAAC,SAAS,eAAe,EAAE,EAAE,EAAE,UAAU,KAAK,oBAAoB,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC,EAAE,KAAK,QAAQ,KAAK,OAAO,OAAM,EAAG,KAAK,KAAI,CAAE,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,4BAA4B,SAAS,kCAAkC,KAAK,WAAW,IAAI,EAAE,CAAC,GAAG,0BAA0B,EAAE,CAAC,GAAG,kBAAkB,CAAC,CAAC,CAAC,oBAAoB,EAAE,EAAE,mBAAmB,CAAC,OAAO,IAAI,YAAY,gBAAgB,EAAE,WAAW,EAAE,cAAc,CAAC,EAAE,SAAS,CAAC,gBAAgB,EAAE,CAAC,MAAM,EAAE,EAAE,OAAO,GAAG,IAAI,KAAK,cAAc,CAAC,EAAE,QAAQ,mBAAmB,EAAE,CAAC,MAAM,EAAE,EAAE,QAAQ,iCAAiC,EAAE,KAAK,cAAc,EAAE,EAAE,cAAc,SAAS,EAAE,KAAK,KAAK,MAAK,CAAE,CAAC,CAAC,iBAAiB,EAAE,CAAC,KAAK,cAAc,CAAC,CAAC,CAAC,eAAe,OAAO,oBAAoB,CAAC"}