{"version":3,"file":"quantity-popover.js","sources":["../theming/js/quantity-popover.js"],"sourcesContent":["customElements.get(\"quantity-popover\")||customElements.define(\"quantity-popover\",class extends HTMLElement{constructor(){super(),this.mql=window.matchMedia(\"(min-width: 990px)\"),this.mqlTablet=window.matchMedia(\"(min-width: 750px)\"),this.infoButtonDesktop=this.querySelector(\".quantity-popover__info-button--icon-only\"),this.infoButtonMobile=this.querySelector(\".quantity-popover__info-button--icon-with-label\"),this.popoverInfo=this.querySelector(\".quantity-popover__info\"),this.closeButton=this.querySelector(\".button-close\"),this.eventMouseEnterHappened=!1,this.closeButton&&this.closeButton.addEventListener(\"click\",this.closePopover.bind(this)),this.popoverInfo&&this.infoButtonDesktop&&this.mqlTablet.matches&&this.popoverInfo.addEventListener(\"mouseleave\",this.closePopover.bind(this)),this.infoButtonDesktop&&(this.infoButtonDesktop.addEventListener(\"click\",this.togglePopover.bind(this)),this.infoButtonDesktop.addEventListener(\"focusout\",this.closePopover.bind(this))),this.infoButtonMobile&&this.infoButtonMobile.addEventListener(\"click\",this.togglePopover.bind(this)),this.infoButtonDesktop&&this.mqlTablet.matches&&(this.infoButtonDesktop.addEventListener(\"mouseenter\",this.togglePopover.bind(this)),this.infoButtonDesktop.addEventListener(\"mouseleave\",this.closePopover.bind(this)))}togglePopover(t){if(t.preventDefault(),t.type===\"mouseenter\"&&(this.eventMouseEnterHappened=!0),t.type===\"click\"&&this.eventMouseEnterHappened)return;const e=this.infoButtonDesktop&&this.mql.matches?this.infoButtonDesktop:this.infoButtonMobile,o=e.getAttribute(\"aria-expanded\")===\"true\";(this.mql.matches&&!o||t.type===\"click\")&&(e.setAttribute(\"aria-expanded\",!o),this.popoverInfo.toggleAttribute(\"hidden\"),e.classList.toggle(\"quantity-popover__info-button--open\"),this.infoButtonDesktop.classList.add(\"quantity-popover__info-button--icon-only--animation\")),e.getAttribute(\"aria-expanded\")===\"true\"&&t.type!==\"mouseenter\"&&(e.focus(),e.addEventListener(\"keyup\",n=>{n.key===\"Escape\"&&this.closePopover(n)}))}closePopover(t){t.preventDefault();const e=this.infoButtonDesktop.contains(t.relatedTarget),o=this.popoverInfo.contains(t.relatedTarget),i=this.infoButtonDesktop&&this.mql.matches?this.infoButtonDesktop:this.infoButtonMobile;!e&&!o&&(i.setAttribute(\"aria-expanded\",\"false\"),i.classList.remove(\"quantity-popover__info-button--open\"),this.popoverInfo.setAttribute(\"hidden\",\"\"),this.infoButtonDesktop.classList.remove(\"quantity-popover__info-button--icon-only--animation\")),this.eventMouseEnterHappened=!1}});\n"],"names":["o","n","i"],"mappings":"AAAA,eAAe,IAAI,kBAAkB,GAAG,eAAe,OAAO,mBAAmB,cAAc,WAAW,CAAC,aAAa,CAAC,MAAK,EAAG,KAAK,IAAI,OAAO,WAAW,oBAAoB,EAAE,KAAK,UAAU,OAAO,WAAW,oBAAoB,EAAE,KAAK,kBAAkB,KAAK,cAAc,2CAA2C,EAAE,KAAK,iBAAiB,KAAK,cAAc,iDAAiD,EAAE,KAAK,YAAY,KAAK,cAAc,yBAAyB,EAAE,KAAK,YAAY,KAAK,cAAc,eAAe,EAAE,KAAK,wBAAwB,GAAG,KAAK,aAAa,KAAK,YAAY,iBAAiB,QAAQ,KAAK,aAAa,KAAK,IAAI,CAAC,EAAE,KAAK,aAAa,KAAK,mBAAmB,KAAK,UAAU,SAAS,KAAK,YAAY,iBAAiB,aAAa,KAAK,aAAa,KAAK,IAAI,CAAC,EAAE,KAAK,oBAAoB,KAAK,kBAAkB,iBAAiB,QAAQ,KAAK,cAAc,KAAK,IAAI,CAAC,EAAE,KAAK,kBAAkB,iBAAiB,WAAW,KAAK,aAAa,KAAK,IAAI,CAAC,GAAG,KAAK,kBAAkB,KAAK,iBAAiB,iBAAiB,QAAQ,KAAK,cAAc,KAAK,IAAI,CAAC,EAAE,KAAK,mBAAmB,KAAK,UAAU,UAAU,KAAK,kBAAkB,iBAAiB,aAAa,KAAK,cAAc,KAAK,IAAI,CAAC,EAAE,KAAK,kBAAkB,iBAAiB,aAAa,KAAK,aAAa,KAAK,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,GAAG,EAAE,eAAc,EAAG,EAAE,OAAO,eAAe,KAAK,wBAAwB,IAAI,EAAE,OAAO,SAAS,KAAK,wBAAwB,OAAO,MAAM,EAAE,KAAK,mBAAmB,KAAK,IAAI,QAAQ,KAAK,kBAAkB,KAAK,iBAAiBA,EAAE,EAAE,aAAa,eAAe,IAAI,QAAQ,KAAK,IAAI,SAAS,CAACA,GAAG,EAAE,OAAO,WAAW,EAAE,aAAa,gBAAgB,CAACA,CAAC,EAAE,KAAK,YAAY,gBAAgB,QAAQ,EAAE,EAAE,UAAU,OAAO,qCAAqC,EAAE,KAAK,kBAAkB,UAAU,IAAI,qDAAqD,GAAG,EAAE,aAAa,eAAe,IAAI,QAAQ,EAAE,OAAO,eAAe,EAAE,MAAK,EAAG,EAAE,iBAAiB,QAAQC,GAAG,CAACA,EAAE,MAAM,UAAU,KAAK,aAAaA,CAAC,CAAC,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,EAAE,iBAAiB,MAAM,EAAE,KAAK,kBAAkB,SAAS,EAAE,aAAa,EAAED,EAAE,KAAK,YAAY,SAAS,EAAE,aAAa,EAAEE,EAAE,KAAK,mBAAmB,KAAK,IAAI,QAAQ,KAAK,kBAAkB,KAAK,iBAAiB,CAAC,GAAG,CAACF,IAAIE,EAAE,aAAa,gBAAgB,OAAO,EAAEA,EAAE,UAAU,OAAO,qCAAqC,EAAE,KAAK,YAAY,aAAa,SAAS,EAAE,EAAE,KAAK,kBAAkB,UAAU,OAAO,qDAAqD,GAAG,KAAK,wBAAwB,EAAE,CAAC,CAAC"}