{"version":3,"file":"quick-add.js","sources":["../theming/js/quick-add.js"],"sourcesContent":["customElements.get(\"quick-add-modal\")||customElements.define(\"quick-add-modal\",class extends ModalDialog{constructor(){super(),this.modalContent=this.querySelector('[id^=\"QuickAddInfo-\"]'),this.addEventListener(\"product-info:loaded\",({target:e})=>{e.addPreProcessCallback(this.preprocessHTML.bind(this))})}hide(e=!1){const t=document.querySelector(\"cart-notification\")||document.querySelector(\"cart-drawer\");t&&t.setActiveElement(this.openedBy),this.modalContent.innerHTML=\"\",e&&(this.openedBy=null),super.hide()}show(e){e.setAttribute(\"aria-disabled\",!0),e.classList.add(\"loading\"),e.querySelector(\".loading__spinner\").classList.remove(\"hidden\"),fetch(e.getAttribute(\"data-product-url\")).then(t=>t.text()).then(t=>{const i=new DOMParser().parseFromString(t,\"text/html\").querySelector(\"product-info\");this.preprocessHTML(i),HTMLUpdateUtility.setInnerHTML(this.modalContent,i.outerHTML),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init(),window.ProductModel&&window.ProductModel.loadShopifyXR(),super.show(e)}).finally(()=>{e.removeAttribute(\"aria-disabled\"),e.classList.remove(\"loading\"),e.querySelector(\".loading__spinner\").classList.add(\"hidden\")})}preprocessHTML(e){e.classList.forEach(t=>{(t.startsWith(\"color-\")||t===\"gradient\")&&this.modalContent.classList.add(t)}),this.preventDuplicatedIDs(e),this.removeDOMElements(e),this.removeGalleryListSemantic(e),this.updateImageSizes(e),this.preventVariantURLSwitching(e)}preventVariantURLSwitching(e){e.setAttribute(\"data-update-url\",\"false\")}removeDOMElements(e){const t=e.querySelector(\"pickup-availability\");t&&t.remove();const a=e.querySelector(\"product-modal\");a&&a.remove();const i=e.querySelectorAll(\"modal-dialog\");i&&i.forEach(s=>s.remove())}preventDuplicatedIDs(e){const t=e.dataset.section,a=t,i=`quickadd-${t}`;e.innerHTML=e.innerHTML.replaceAll(a,i),Array.from(e.attributes).forEach(s=>{s.value.includes(a)&&e.setAttribute(s.name,s.value.replace(a,i))}),e.dataset.originalSection=t}removeGalleryListSemantic(e){const t=e.querySelector('[id^=\"Slider-Gallery\"]');t&&(t.setAttribute(\"role\",\"presentation\"),t.querySelectorAll('[id^=\"Slide-\"]').forEach(a=>a.setAttribute(\"role\",\"presentation\")))}updateImageSizes(e){const t=e.querySelector(\".product\");if(!t?.classList.contains(\"product--columns\"))return;const i=t.querySelectorAll(\".product__media img\");if(!i.length)return;let s=\"(min-width: 1000px) 715px, (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)\";t.classList.contains(\"product--medium\")?s=s.replace(\"715px\",\"605px\"):t.classList.contains(\"product--small\")&&(s=s.replace(\"715px\",\"495px\")),i.forEach(o=>o.setAttribute(\"sizes\",s))}});\n"],"names":["e","t","a","i","s"],"mappings":"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"}